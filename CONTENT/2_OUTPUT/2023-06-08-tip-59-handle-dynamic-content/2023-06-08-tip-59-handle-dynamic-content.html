<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handle Dynamic Content Safely</title>
    <style>
        body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background-color: #f4f4f4; }
        .preheader { display: none; max-height: 0; overflow: hidden; }
        .container { max-width: 600px; margin: 0 auto; background-color: #ffffff; }
        .header { background: linear-gradient(135deg, #2dd4bf 0%, #0d9488 100%); padding: 40px 30px; text-align: center; color: #ffffff; }
        .content { padding: 30px; color: #333333; line-height: 1.6; }
        .section-title { font-size: 20px; font-weight: 600; color: #0d9488; margin-bottom: 15px; border-left: 4px solid #2dd4bf; padding-left: 15px; }
        .highlight-box { background-color: #f0fdfa; border-left: 4px solid #2dd4bf; padding: 20px; margin: 20px 0; border-radius: 4px; }
        .step { margin-bottom: 20px; padding-left: 10px; }
        .step-number { display: inline-block; background-color: #2dd4bf; color: #ffffff; width: 28px; height: 28px; border-radius: 50%; text-align: center; line-height: 28px; font-weight: 600; margin-right: 10px; }
        .tip-box { background-color: #fef3c7; border-left: 4px solid #f59e0b; padding: 15px; margin: 15px 0 15px 38px; border-radius: 4px; font-size: 14px; }
        .use-case { background-color: #f8fafc; padding: 15px; margin-bottom: 15px; border-radius: 6px; border: 1px solid #e2e8f0; }
        .use-case-title { font-weight: 600; color: #0d9488; margin-bottom: 8px; }
        .faq-item { margin-bottom: 20px; }
        .faq-question { font-weight: 600; color: #0d9488; margin-bottom: 8px; }
        .cta-button { display: inline-block; background-color: #2dd4bf; color: #ffffff; padding: 16px 40px; text-decoration: none; border-radius: 6px; font-weight: 600; margin: 20px 0; text-align: center; }
        .footer { background-color: #1f2937; color: #9ca3af; padding: 30px; text-align: center; font-size: 14px; }
    </style>
</head>
<body>
    <div class="preheader">Stop flow failures with safe navigation (?).</div>
    <div class="container">
        <div class="header">
            <h1>#PowerPlatformTip 59</h1>
            <p>Handle Dynamic Content Safely</p>
        </div>
        <div class="content">
            <div class="highlight-box">
                <div class="section-title">TL;DR</div>
                <p><b>item()['prop']</b> fails if 'prop' is missing. <b>item()?['prop']</b> returns null safely. One character makes your flows crash-proof.</p>
            </div>

            <div class="section">
                <div class="section-title">Why This Matters</div>
                <p>Dynamic data (JSON, API responses) isn't always consistent. Missing fields cause runtime errors that stop your flow. The safe navigation operator (`?`) handles these cases gracefully.</p>
            </div>

            <div class="section">
                <div class="section-title">Deep Dive: How to Implement</div>
                
        <div class="step"><span class="step-number">1</span><b>Identify Risky Access</b><br>Look for expressions accessing properties, e.g. <code>variables('User')['MobilePhone']</code>. If 'MobilePhone' is missing, flow fails.</div>
        <div class="step"><span class="step-number">2</span><b>Add the Question Mark</b><br>Change it to <code>variables('User')?['MobilePhone']</code>. Note the <b>?</b> before the bracket.</div>
        <div class="step"><span class="step-number">3</span><b>Handle Nulls</b><br>Now, if the field is missing, you get <code>null</code> instead of an error. Use <code>coalesce(..., 'Default')</code> to provide a fallback value.<div class="tip-box">Example: <code>coalesce(item()?['Phone'], 'No Phone')</code></div></div>
        
            </div>

            <div class="section">
                <div class="section-title">3 Real-World Use Cases</div>
                
        <div class="use-case"><div class="use-case-title">üåê API Responses</div>External APIs often omit fields that have empty values. Safe navigation handles this automatically.</div>
        <div class="use-case"><div class="use-case-title">üìã SharePoint Lookups</div>Empty lookup columns often return nothing. Direct access crashes; safe access returns null.</div>
        <div class="use-case"><div class="use-case-title">‚úÖ Approvals</div>Comments fields in approvals might be empty/missing if the user didn't type anything.</div>
        
            </div>

            <div class="section">
                <div class="section-title">Quick FAQ</div>
                
        <div class="faq-item"><div class="faq-question">Q: Does it slow down the flow?</div>No, it has zero performance cost.</div>
        <div class="faq-item"><div class="faq-question">Q: Used in Filter Array?</div>Yes! It's crucial in Filter Array to prevent the filter from crashing on items missing the filter column.</div>
        <div class="faq-item"><div class="faq-question">Q: Can I chain them?</div>Yes: <code>body('Get_Item')?['Author']?['Email']</code> safely navigates deep trees.</div>
        
            </div>

            <div style="text-align: center;">
                <a href="https://www.powerplatformtip.com" class="cta-button">Get Help Implementing This Solution</a>
            </div>
            
            <p><strong>P.S.</strong> This is the #1 tip I give to anyone debugging 'random' flow failures. It's almost always a missing property.</p>
        </div>
        <div class="footer">
            #PowerPlatform #PowerApps #SharePoint #PowerPlatformTip<br>
            ¬© 2026 All rights reserved
        </div>
    </div>
</body>
</html>
