/* ==========================================================================
   CUSTOM OVERRIDES - PowerPlatformTip
   ========================================================================== */

/*
   Fix: Remove sticky behavior from ToC sidebar to prevent scroll issues
   Problem: Sticky ToC captures scroll events and causes page jumping
   Solution: Disable sticky positioning - ToC will scroll normally with page
   ========================================================================== */

.sidebar__right {
  @include breakpoint($large) {
    // Override default negative margin that causes horizontal scroll
    margin-inline-end: 0 !important;
    
    // Ensure it stays within viewport
    max-width: $right-sidebar-width-narrow;
    
    &.sticky {
      // Disable sticky positioning to prevent scroll hijacking
      position: static !important;
      
      .toc {
        max-width: 100%;
        
        .toc__menu {
          // Remove max-height constraint that was needed for sticky
          max-height: none !important;
          overflow-y: visible !important;
          
          // Prevent text overflow
          word-wrap: break-word;
          overflow-wrap: break-word;
        }
      }
    }
  }

  @include breakpoint($x-large) {
    max-width: $right-sidebar-width;
  }
}

// Ensure page content doesn't overlap with fixed sidebar
.page {
  @include breakpoint($large) {
    // Reduce padding to account for sidebar positioning fix
    padding-inline-end: calc(#{$right-sidebar-width-narrow} + 1em);
  }

  @include breakpoint($x-large) {
    padding-inline-end: calc(#{$right-sidebar-width} + 1em);
  }
}

// Prevent body horizontal overflow
body {
  overflow-x: hidden;
}

#main {
  overflow-x: hidden;
}
