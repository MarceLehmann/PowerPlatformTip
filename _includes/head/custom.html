<!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- DNS Prefetch & Preconnect for Performance -->
<link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>

<!-- Custom Components CSS -->
<link rel="stylesheet" href="{{ '/assets/css/custom-components.css' | relative_url }}">
<link rel="stylesheet" href="{{ '/assets/css/performance.css' | relative_url }}">
<link rel="stylesheet" href="{{ '/assets/css/mobile-navigation.css' | relative_url }}">
<link rel="stylesheet" href="{{ '/assets/css/components/content-upgrade.css' | relative_url }}">
<link rel="stylesheet" href="{{ '/assets/css/components/exit-intent-popup.css' | relative_url }}">
<link rel="stylesheet" href="{{ '/assets/css/components/social-share-sidebar.css' | relative_url }}">

<!-- Prism.js for Code Highlighting -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css">

{% if jekyll.environment == 'production' and site.data.bing_analytics and site.data.bing_analytics.key %}
<!-- Consent-gated Microsoft Clarity (Bing Analytics) -->
<script>
(function(){
  function getCookie(name){
    const nameEQ=name+'='; const ca=document.cookie.split(';');
    for(let i=0;i<ca.length;i++){ let c=ca[i]; while(c.charAt(0)==' ') c=c.substring(1); if(c.indexOf(nameEQ)==0) return c.substring(nameEQ.length); }
    return null;
  }
  function loadClarity(){
    if (window.__clarityLoaded) return; window.__clarityLoaded=true;
    (function(c,l,a,r,i,t,y){ c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)}; t=l.createElement(r); t.async=1; t.src="https://www.clarity.ms/tag/"+i; y=l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t,y); })(window, document, 'clarity', 'script', '{{ site.data.bing_analytics.key }}');
  }
  if (getCookie('cookie_consent')==='accepted') { loadClarity(); }
  else { window.addEventListener('cookie-consent:accepted', loadClarity); }
})();
{% endif %}

<!-- end custom head snippets -->
